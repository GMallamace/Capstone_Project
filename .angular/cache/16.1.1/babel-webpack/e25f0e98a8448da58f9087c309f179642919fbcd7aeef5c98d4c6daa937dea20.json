{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let CoursesComponent = class CoursesComponent {\n  constructor(svg, sanitizer) {\n    this.svg = svg;\n    this.sanitizer = sanitizer;\n    this.isLogged = false;\n    this.isTeacher = false;\n    this.lezione = {\n      link: '',\n      titolo: '',\n      materia: '',\n      descrizione: '',\n      isEditing: false\n    };\n    this.cards = []; // Array per conservare le cards caricate\n  }\n\n  ngOnInit() {\n    this.checkLog();\n    this.svg.isTeacher$.subscribe(res => this.isTeacher = res);\n    this.caricaCarteSalvate(); // Carica le carte salvate dal localStorage\n  }\n\n  checkLog() {\n    let user = localStorage.getItem('user');\n    if (user) {\n      this.isLogged = true;\n    }\n  }\n  pubblicaMateriale() {\n    // Aggiungi la lezione all'array cards\n    this.cards.push({\n      ...this.lezione\n    });\n    // Salva le carte nel localStorage\n    this.salvaCarte();\n    // Resetta il form\n    this.lezione = {\n      link: '',\n      titolo: '',\n      materia: '',\n      descrizione: '',\n      isEditing: false\n    };\n  }\n  modificaMateriale(index) {\n    // Implementa la logica per la modifica del materiale\n    // Puoi accedere alla card utilizzando this.cards[index]\n  }\n  eliminaMateriale(index) {\n    // Rimuovi la card dall'array cards\n    this.cards.splice(index, 1);\n    // Aggiorna il localStorage\n    this.salvaCarte();\n  }\n  caricaCarteSalvate() {\n    const savedCards = localStorage.getItem('cards');\n    if (savedCards) {\n      this.cards = JSON.parse(savedCards);\n    }\n  }\n  salvaCarte() {\n    // Salva le carte nel localStorage\n    localStorage.setItem('cards', JSON.stringify(this.cards));\n  }\n  getVideoUrl(link) {\n    const videoUrl = link.replace(\"watch?v=\", \"embed/\");\n    return this.sanitizer.bypassSecurityTrustResourceUrl(videoUrl);\n  }\n};\nCoursesComponent = __decorate([Component({\n  selector: 'app-courses',\n  templateUrl: './courses.component.html',\n  styleUrls: ['./courses.component.scss']\n})], CoursesComponent);","map":{"version":3,"names":["Component","CoursesComponent","constructor","svg","sanitizer","isLogged","isTeacher","lezione","link","titolo","materia","descrizione","isEditing","cards","ngOnInit","checkLog","isTeacher$","subscribe","res","caricaCarteSalvate","user","localStorage","getItem","pubblicaMateriale","push","salvaCarte","modificaMateriale","index","eliminaMateriale","splice","savedCards","JSON","parse","setItem","stringify","getVideoUrl","videoUrl","replace","bypassSecurityTrustResourceUrl","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/macbookpro/Desktop/CapstoneProject/Capstone_Project/src/app/courses/courses.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../Services/auth.service';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { Lezioni } from '../Interface/lezioni';\n\n@Component({\n  selector: 'app-courses',\n  templateUrl: './courses.component.html',\n  styleUrls: ['./courses.component.scss']\n})\nexport class CoursesComponent implements OnInit {\n  isLogged: boolean = false;\n  isTeacher: boolean | undefined = false;\n  lezione: Lezioni = {\n    link: '',\n    titolo: '',\n    materia: '',\n    descrizione: '',\n    isEditing: false\n  };\n  cards: Lezioni[] = []; // Array per conservare le cards caricate\n\n  constructor(private svg: AuthService, private sanitizer: DomSanitizer) {}\n\n  ngOnInit() {\n    this.checkLog();\n    this.svg.isTeacher$.subscribe((res) => (this.isTeacher = res));\n    this.caricaCarteSalvate(); // Carica le carte salvate dal localStorage\n  }\n\n  checkLog() {\n    let user = localStorage.getItem('user');\n    if (user) {\n      this.isLogged = true;\n    }\n  }\n\n  pubblicaMateriale() {\n    // Aggiungi la lezione all'array cards\n    this.cards.push({ ...this.lezione });\n\n    // Salva le carte nel localStorage\n    this.salvaCarte();\n\n    // Resetta il form\n    this.lezione = {\n      link: '',\n      titolo: '',\n      materia: '',\n      descrizione: '',\n      isEditing: false\n    };\n  }\n\n  modificaMateriale(index: number) {\n    // Implementa la logica per la modifica del materiale\n    // Puoi accedere alla card utilizzando this.cards[index]\n  }\n\n  eliminaMateriale(index: number) {\n    // Rimuovi la card dall'array cards\n    this.cards.splice(index, 1);\n\n    // Aggiorna il localStorage\n    this.salvaCarte();\n  }\n\n  caricaCarteSalvate() {\n    const savedCards = localStorage.getItem('cards');\n    if (savedCards) {\n      this.cards = JSON.parse(savedCards);\n    }\n  }\n\n  salvaCarte() {\n    // Salva le carte nel localStorage\n    localStorage.setItem('cards', JSON.stringify(this.cards));\n  }\n\n  getVideoUrl(link: string): SafeResourceUrl {\n    const videoUrl = link.replace(\"watch?v=\", \"embed/\");\n    return this.sanitizer.bypassSecurityTrustResourceUrl(videoUrl);\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,WAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAY3BC,YAAoBC,GAAgB,EAAUC,SAAuB;IAAjD,KAAAD,GAAG,GAAHA,GAAG;IAAuB,KAAAC,SAAS,GAATA,SAAS;IAXvD,KAAAC,QAAQ,GAAY,KAAK;IACzB,KAAAC,SAAS,GAAwB,KAAK;IACtC,KAAAC,OAAO,GAAY;MACjBC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE;KACZ;IACD,KAAAC,KAAK,GAAc,EAAE,CAAC,CAAC;EAEiD;;EAExEC,QAAQA,CAAA;IACN,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACZ,GAAG,CAACa,UAAU,CAACC,SAAS,CAAEC,GAAG,IAAM,IAAI,CAACZ,SAAS,GAAGY,GAAI,CAAC;IAC9D,IAAI,CAACC,kBAAkB,EAAE,CAAC,CAAC;EAC7B;;EAEAJ,QAAQA,CAAA;IACN,IAAIK,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACvC,IAAIF,IAAI,EAAE;MACR,IAAI,CAACf,QAAQ,GAAG,IAAI;;EAExB;EAEAkB,iBAAiBA,CAAA;IACf;IACA,IAAI,CAACV,KAAK,CAACW,IAAI,CAAC;MAAE,GAAG,IAAI,CAACjB;IAAO,CAAE,CAAC;IAEpC;IACA,IAAI,CAACkB,UAAU,EAAE;IAEjB;IACA,IAAI,CAAClB,OAAO,GAAG;MACbC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,EAAE;MACfC,SAAS,EAAE;KACZ;EACH;EAEAc,iBAAiBA,CAACC,KAAa;IAC7B;IACA;EAAA;EAGFC,gBAAgBA,CAACD,KAAa;IAC5B;IACA,IAAI,CAACd,KAAK,CAACgB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAE3B;IACA,IAAI,CAACF,UAAU,EAAE;EACnB;EAEAN,kBAAkBA,CAAA;IAChB,MAAMW,UAAU,GAAGT,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAChD,IAAIQ,UAAU,EAAE;MACd,IAAI,CAACjB,KAAK,GAAGkB,IAAI,CAACC,KAAK,CAACF,UAAU,CAAC;;EAEvC;EAEAL,UAAUA,CAAA;IACR;IACAJ,YAAY,CAACY,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACG,SAAS,CAAC,IAAI,CAACrB,KAAK,CAAC,CAAC;EAC3D;EAEAsB,WAAWA,CAAC3B,IAAY;IACtB,MAAM4B,QAAQ,GAAG5B,IAAI,CAAC6B,OAAO,CAAC,UAAU,EAAE,QAAQ,CAAC;IACnD,OAAO,IAAI,CAACjC,SAAS,CAACkC,8BAA8B,CAACF,QAAQ,CAAC;EAChE;CACD;AAzEYnC,gBAAgB,GAAAsC,UAAA,EAL5BvC,SAAS,CAAC;EACTwC,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACWzC,gBAAgB,CAyE5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}